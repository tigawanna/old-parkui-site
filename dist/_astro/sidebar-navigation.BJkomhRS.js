import{j as t,C as m,o as g,p as x,q as b,l as y}from"./tree-view.D9ir_m6l.js";import{r as s}from"./index.B1Zo4ZAB.js";import{s as j,C as v}from"./chevron-right.BV10ljh5.js";import"./createLucideIcon.JrDgDZkW.js";const k=j({slots:["root","list","item","header","link","content","indicator"],base:{root:{display:"flex",flexDirection:"column",gap:"3"},list:{position:"relative","&[data-depth='1']":{_before:{bg:"border.default",content:'""',height:"full",left:"3",position:"absolute",width:"1px",zIndex:"1"}}},indicator:{color:"fg.muted",transformOrigin:"center",transitionDuration:"normal",transitionProperty:"transform",transitionTimingFunction:"default",_open:{transform:"rotate(90deg)"}},item:{borderRadius:"l2",color:"fg.muted",fontWeight:"medium",position:"relative",textStyle:"sm"},link:{display:"flex",gap:"2",ps:"calc(((var(--depth) - 1) * 22px) + 22px)",pe:"1",py:"1.5",transitionDuration:"normal",transitionProperty:"background, color",transitionTimingFunction:"default",_hover:{background:"gray.a2",color:"fg.default"},_currentPage:{background:"accent.a2",color:"accent.text",fontWeight:"semibold",_hover:{background:"accent.a2",color:"accent.text"},_before:{content:'""',position:"absolute",left:"3",top:"0",width:"2px",height:"full",bg:"accent.default",zIndex:"1"}}},header:{alignItems:"center",borderRadius:"l2",color:"fg.muted",cursor:"pointer",display:"flex",fontWeight:"medium",gap:"1.5",ps:"calc((var(--depth) - 1) * 22px)",py:"1.5",textStyle:"sm",transitionDuration:"normal",transitionProperty:"background, color",transitionTimingFunction:"default",width:"full",_hover:{background:"gray.a2",color:"fg.default"},"&[data-depth='1']":{ps:"1",fontWeight:"semibold",color:"fg.default"}}}}),o=k(),_=d=>{const{items:c,pathname:r}=d,[p,u]=s.useState(r),[i,h]=s.useState([["code","kbd","heading","link","text"].includes(r.split("/").pop()??"")?"typography":r.split("/").filter(Boolean)[2]]);s.useEffect(()=>{document.addEventListener("astro:before-swap",e=>{u(e.to.pathname)})},[]);const l=(e,n=1)=>e.items?t.jsx("li",{children:t.jsxs(m,{open:i.some(a=>a===e.id),children:[t.jsxs(g,{onClick:()=>h(a=>a.includes(e.id)?a.filter(f=>f!==e.id):[...a,e.id]),className:o.header,"data-depth":n,style:{"--depth":n},children:[t.jsx(x,{size:"sm",className:o.indicator,"data-state":i.includes(e.id)?"open":"closed",children:t.jsx(v,{})}),t.jsx("span",{children:e.name})]}),t.jsx(b,{className:o.content,children:t.jsx("ul",{"data-depth":n,className:o.list,children:e.items.map(a=>l(a,n+1))},e.id)})]})},e.name):t.jsx("li",{className:o.item,children:t.jsxs("a",{href:e.href,className:o.link,"aria-current":e.href===p?"page":void 0,style:{"--depth":n},children:[e.name,e.label&&t.jsx(y,{size:"sm",variant:"solid",colorPalette:"accent",children:e.label})]})},e.name);return t.jsx("aside",{children:t.jsx("nav",{children:t.jsx("ul",{className:o.root,children:c.map(e=>l(e))})})})};export{_ as SidebarNavigation};
