---
import { getSitemap } from '~/lib/page-control'
import { SidebarNavigation } from './sidebar-navigation'

const { slug } = Astro.params
const cssFramework = slug?.split('/')[0] ?? 'panda'

//@ts-expect-error improve later
const sitemap = await getSitemap({ cssFramework })
const pathName = Astro.url.pathname.replace(/\/$/, '')   
---

<SidebarNavigation pathname={pathName} items={sitemap} client:load transition:persist />